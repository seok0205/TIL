# Docker, CI/CD - 4

## Docker Volume

- Docker Container를 실행하면서 데이터를 보존.

### Volume 사용 이유

- 데이터 영속성 : Container는 쓰고 나면 사라지는데 Volume을 쓰면 Container가 사라져도 데이터는 그대로 남음.

- Volume덕에 여러 Container가 같은 데이터를 함께 쓸 수 있다. 데이터를 여기저기 복사할 필요가 없음.

- 데이터를 백업하거나 다른 컴퓨터로 옮기기가 편함.

- 특히 많은 양의 데이터를 다룰 때, 볼륨을 쓰는 게 데이터를 더 빠르게 처리할 수 있게 해줌.

- 중요한 데이터를 컨테이너 밖에 따로 안전하게 보관 가능. 보안 상승.

- Volume을 쓰면 코드를 바꿔도 데이터는 그대로 유지할 수 있어서, 개발이나 운영에 편리함.

- Docker Docs에서는 volume, bind mount, tmpfs mount 중에 volume을 가장 추천함.

### Volume

- 컴퓨터에 따로 만들어진 폴더 같은 것. Docker가 이 폴더를 관리해서 우리가 쓰는 데이터를 여기에 저장.

- 대부분 `/var/lib/docker/volumes/`경로로 저장.

- 볼륨 활용 시 데이터를 더 잘 다루고, 여러 컨테이너에서 공유하거나, 데이터를 안전하게 관리하는 데 도움이 됨.

- __장점__

    1. 백업하고 옮기기 쉬움
    2. Docker 명령어로 관리
    3. 리눅스, 윈도우, 어떤 컨테이너에서도 잘 작동
    4. 여러 컨테이너에서 안전하게 이용 가능
    5. 볼륨 드라이버로 더 많은 기능 추가 가능(다른 곳 저장 or 보안 강화)
    6. Mac이나 Windows에서 더 빠르게 돌아감.(기본 저장 방식보다)

#### bind mount

- 컴퓨터의 특정 폴더나 파일을 Docker Container 안에서 직접 쓸 수 있게 해주는 것. 볼륨보다 기능이 덜하지만, 특정 상황에서 유용함.

- 어떤 폴더나 파일을 골라 Docker Container에 붙여넣는 것과 비슷함. 컨테이너 안에서 그 파일이나 폴더를 자기 것처럼 사용 가능.

- 컴퓨터 안의 정확한 위치(절대 경로)에 있는 파일이나 폴더 사용. Container가 어디에 있든, 그 파일이나 폴더 똑같이 사용.

- 컨테이너에서 컴퓨터의 특정 파일이나 폴더를 쉽게 접근하고 사용 가능. 이런 방식은 특정 개발 작업이나 데이터를 다룰 때 도움이 될 수 있음.

#### tmpfs mount

- 컴퓨터 메모리를 사용해서 일시적인 데이터를 저장하는 방법. Container 안에서 잠깐 필요한 데이터를 다룰 때 유용.

- 일시적인 데이터 저장, 컴퓨터의 파일 시스템 대신 메모리 사용, 성능 향상, 컨테이너끼리 공유가 안 됨.

- Container가 잠깐 필요한 데이터를 메모리에 저장하고 싶을 때 사용하면 좋음. 데이터를 빠르게 처리할 수 있고, Container가 끝나면 자동으로 데이터도 사라져서 편리함.
